{
  "stageConfigs": [
    {
      "name" : "emailValidation",
      "email" : {
        "serviceUrl": "/email",
        "subject": "Verify your email address",
        "message": "Is this correct",
        "mimeType": "text/plain",
        "from": "noreply@example.com",
        "verificationLink": "/verifyemail",
        "verificationLinkToken": "abc123"
      }
    },
    {
      "name" : "userDetails",
      "identityEmailField" : "mail"
    },
    {
      "name" : "kbaSecurityAnswerDefinitionStage",
      "kbaPropertyName" : "kbaInfo",
      "kbaConfig": {
        "questions": {
          "1": {
            "en": "What's your favorite color?",
            "en_GB": "What's your favorite colour?",
            "fr": "Quelle est votre couleur préférée?"
          },
          "2": {
            "en": "Who was your first employer?"
          }
        }
      }
    },
    {
      "name" : "selfRegistration",
      "identityServiceUrl" : "/users"
    },
    {
      "name" : "userIdValidation",
      "queryFields" : [
        "_id",
        "mail"
      ],
      "identityIdField" : "_id",
      "identityEmailField" : "mail",
      "identityServiceUrl" : "/users",

      "email" : {
        "serviceUrl": "/email",
        "from": "info@admin.org",
        "subject": "Reset password email",
        "message": "<h3>This is your reset email.</h3><h4><a href=\"%link%\">Email verification link</a></h4>",
        "mimeType": "text/html",
        "verificationLinkToken": "%link%",
        "verificationLink": "http://localhost:9999/example/#passwordReset/"
      }
    },
    {
      "name" : "resetStage",
      "identityServiceUrl" : "/users",
      "identityPasswordField" : "password"
    }
  ],
  "snapshotToken" : {
    "type": "jwt",
    "sharedKey" : "1234abcd",
    "keyPairAlgorithm" : "RSA",
    "keyPairSize" : 1024,
    "jweAlgorithm" : "RSAES_PKCS1_V1_5",
    "encryptionMethod" : "A128CBC_HS256",
    "jwsAlgorithm" : "HS256",
    "tokenExpiry": 180
  },
  "storage": "stateless"
}